/* 全局背景和字体颜色 */
body {
    background-color: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', sans-serif;
  }
  
  .dashboard-container {
    display: grid;
    height: 100vh;
    padding: 20px;
    gap: 20px;
    
    /* --- 关键改动在这里 --- */
  
    /* 1. 定义三列，并指定它们的宽度比例 */
    grid-template-columns: 1fr 2.5fr 1fr; /* 左1份, 中2.5份, 右1份 */
    
    /* 2. 定义两行，标题行和内容行 */
    grid-template-rows: auto 1fr;
  
    /* 3. 定义网格区域，实现三栏布局 */
    grid-template-areas:
      "header  header         header"
      "details main-map       right-sidebar";
  }
  
  /* 每个面板的通用样式 (无变动) */
  .dashboard-panel {
    background-color: rgba(30, 41, 59, 0.7);
    border: 1px solid rgba(51, 65, 85, 1);
    border-radius: 12px;
    padding: 20px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
  }
  
  /* --- 为每个区域分配名称 (最终版) --- */
  .title-bar-area { grid-area: header; }
  .details-area { grid-area: details; }
  .main-map-area { grid-area: main-map; }
  .right-sidebar-area { 
    grid-area: right-sidebar;
    /* 移除内边距，因为子元素会有自己的面板样式 */
    padding: 0; 
    /* 我们让这个容器透明，只作为布局工具 */
    background-color: transparent;
    border: none;
    backdrop-filter: none;
  }
  
  /* 新增：用于右侧栏内部堆叠的容器 */
  .right-sidebar-stack {
    display: flex;
    flex-direction: column;
    gap: 20px; /* 让两个小面板之间有间隙 */
    height: 100%;
  }
  
  /* 面板内标题的简单样式 (无变动) */
  .panel-title {
    margin: 0 0 15px 0;
    font-size: 18px;
    font-weight: 600;
    color: #94a3b8;
    border-bottom: 1px solid rgba(51, 65, 85, 1);
    padding-bottom: 10px;
  }
  .main-map-area .leaflet-tile-pane {
    filter:
      hue-rotate(300deg)   /* 继续沿用同一色相偏移 */
      saturate(70%)        /* 稍微压低饱和度，避免颜色过“艳” */
      brightness(400%)     /* 亮度从 120 → 180，大幅提亮黑色基底 */
      contrast(95%);       /* 反差 110 → 90，弱化极深黑 */
  }